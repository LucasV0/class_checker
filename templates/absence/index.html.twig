{% extends 'base.html.twig' %}

{% block title %}Absence{% endblock %}
{% block style %}
    <link href="
{{ asset('assets/vendor/datatables/dataTables.bootstrap4.min.css') }}
" rel="stylesheet">
{% endblock %}
{% block script %}
{% endblock %}
{% block body %}

    {% for message in app.flashes('success')%}
        <strong>{{ message }}</strong>
    {% endfor %}

    <div class="mx-lg-5 pt-2" style="width: 95%">
        <h1 class="justify-content-center d-flex text-center"> Liste des absences</h1>
            <table class="table table-hover table-bordered" id="dataTable">
                <thead >
                <tr class="table-primary">
                <th>Cours</th>
                <th>Nom / Prenom</th>
                <th>Date de justificatif</th>
                <th>Motif</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for absence in absences %}
            <tr>
                

                <td>{{ absence.lessons.label }}</td>
                <td>{{ absence.students.name|upper }} {{ absence.students.surname }}</td>
                <td>{{ absence.DateJustify ? absence.DateJustify|date('Y-m-d') : '' }}</td>
                <td>{{ absence.justify.description }}</td>
                <td>
                    <a class="btn btn-outline-info btn-sm" href="{{ path('app_absence_edit', {'id': absence.id}) }}" >Modifier</a>
                    <a class="btn btn-outline-danger btn-sm" onclick="return confirm('Voulez vous vraiment supprimer l\'éléve')" href="{{ path('app_absence_delete', {id: absence.id}) }}" >Supprimer</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
        

{% endblock %}
